<!-- src/app/service-list/service-list.component.html -->
<div class="page">
  <div class="container">
    <div class="top-row">
      <button class="back" (click)="goBack()">← Back</button>
      <h1 class="page-title">{{ categoryName }}</h1>
    </div>

    <div *ngIf="loading" class="muted">Loading services...</div>
    <div *ngIf="!loading && services.length === 0" class="muted">No services found for this category.</div>

    <!-- services grid -->
    <div class="grid" *ngIf="services.length > 0 && !loading">
      <article *ngFor="let s of services" class="card" role="article" aria-label="{{ s.serviceName }}">
        <div class="card-media">
          <img *ngIf="s.imageUrl" [src]="s.imageUrl" [alt]="s.serviceName" class="service-image" />
          <div *ngIf="!s.imageUrl" class="placeholder-image" aria-hidden="true">
            <span>{{ s.serviceName ? (s.serviceName | slice:0:1) : 'S' }}</span>
          </div>
          <span class="category-pill" *ngIf="s.categoryName">{{ s.categoryName }}</span>
        </div>

        <div class="card-body">
          <h3 class="service-title">{{ s.serviceName }}</h3>
          <p class="service-desc">
            {{ s.shortDescription || s.shortDescription || 'No description available for this service.' }}
          </p>

          <div class="card-meta">
            <div class="meta-item">
              <div class="meta-label">Price</div>
              <div class="meta-value">
                <span *ngIf="s.fixedRate !== undefined && s.fixedRate !== null">₹ {{ s.fixedRate }}</span>
                <span *ngIf="s.fixedRate === undefined || s.fixedRate === null">Contact for price</span>
              </div>
            </div>

            <div class="meta-item" *ngIf="s.durationMinutes || s.estimatedDuration">
              <div class="meta-label">Duration</div>
              <div class="meta-value">
                {{ s.estimatedDuration ? s.estimatedDuration + ' hrs' : (s.durationMinutes ? (s.durationMinutes + ' mins') : '-') }}
              </div>
            </div>
          </div>

          <div class="card-actions">
            <button class="btn-primary" (click)="book(s)">Book Your Service</button>
            <button class="btn-outline" (click)="details(s)">Details</button>
          </div>
        </div>
      </article>
    </div>

    <div *ngIf="error" class="error">{{ error }}</div>
  </div>
</div>
